{"is_source_file": true, "format": "Python", "description": "This file defines SQLAlchemy ORM models for database entities including Restaurant, MenuItem, Order, OrderItem, and Payment, along with a declarative base class. It maps Python classes to database tables and establishes relationships between entities in a food delivery management system.", "external_files": ["sqlalchemy", "datetime"], "external_methods": [], "published": ["Base", "Restaurant", "MenuItem", "Order", "OrderItem", "Payment"], "classes": [{"name": "Base", "description": "Declarative base class for all ORM models."}, {"name": "Restaurant", "description": "Represents a restaurant entity with related menu items and orders."}, {"name": "MenuItem", "description": "Represents a menu item belonging to a restaurant."}, {"name": "Order", "description": "Represents a customer order with related items and payments."}, {"name": "OrderItem", "description": "Represents a line item within an order, linking to a menu item."}, {"name": "Payment", "description": "Represents a payment record associated with an order."}], "methods": [{"name": "DeclarativeBase", "description": "Base class from SQLAlchemy ORM that all models inherit from."}], "calls": ["relationship", "mapped_column"], "search-terms": ["SQLAlchemy ORM models", "food delivery database schema", "restaurant system models", "db_models.py", "relationship mappings", "order and payment models"], "state": 2, "file_id": 8, "knowledge_revision": 27, "git_revision": "d14c09d9101f338766e90860c922b16fd13c7164", "ctags": [{"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^class Base(DeclarativeBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MenuItem", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^class MenuItem(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Order", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^class Order(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "OrderItem", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^class OrderItem(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Payment", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^class Payment(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Restaurant", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^class Restaurant(Base):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    __tablename__ = \"menu_items\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "MenuItem", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    __tablename__ = \"order_items\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    __tablename__ = \"orders\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    __tablename__ = \"payments\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    __tablename__ = \"restaurants\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Restaurant", "scopeKind": "class"}, {"_type": "tag", "name": "amount_cents", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    amount_cents: Mapped[int] = mapped_column(Integer, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    created_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False, defaul/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "MenuItem", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    created_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False, defaul/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    created_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False, defaul/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    created_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False, defaul/", "language": "Python", "typeref": "typename:Mapped[datetime]", "kind": "variable", "scope": "Restaurant", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    description: Mapped[str | None] = mapped_column(Text, nullable=True)$/", "language": "Python", "typeref": "typename:Mapped[str | None]", "kind": "variable", "scope": "MenuItem", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    description: Mapped[str | None] = mapped_column(Text, nullable=True)$/", "language": "Python", "typeref": "typename:Mapped[str | None]", "kind": "variable", "scope": "Restaurant", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, autoincrement=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "MenuItem", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, autoincrement=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, autoincrement=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, autoincrement=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    id: Mapped[int] = mapped_column(Integer, primary_key=True, autoincrement=True)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Restaurant", "scopeKind": "class"}, {"_type": "tag", "name": "is_active", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    is_active: Mapped[bool] = mapped_column(Boolean, nullable=False, default=True)$/", "language": "Python", "typeref": "typename:Mapped[bool]", "kind": "variable", "scope": "Restaurant", "scopeKind": "class"}, {"_type": "tag", "name": "is_available", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    is_available: Mapped[bool] = mapped_column(Boolean, nullable=False, default=True)$/", "language": "Python", "typeref": "typename:Mapped[bool]", "kind": "variable", "scope": "MenuItem", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    items: Mapped[list[\"OrderItem\"]] = relationship(back_populates=\"order\", cascade=\"all, delete/", "language": "Python", "typeref": "typename:Mapped[list[\"OrderItem\"]]", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "menu_item_id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    menu_item_id: Mapped[int] = mapped_column(ForeignKey(\"menu_items.id\", ondelete=\"RESTRICT\"), /", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "menu_items", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    menu_items: Mapped[list[\"MenuItem\"]] = relationship(back_populates=\"restaurant\", cascade=\"al/", "language": "Python", "typeref": "typename:Mapped[list[\"MenuItem\"]]", "kind": "variable", "scope": "Restaurant", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    name: Mapped[str] = mapped_column(String(200), nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "MenuItem", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    name: Mapped[str] = mapped_column(String(200), nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Restaurant", "scopeKind": "class"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    order: Mapped[\"Order\"] = relationship(back_populates=\"items\")$/", "language": "Python", "typeref": "typename:Mapped[\"Order\"]", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    order: Mapped[\"Order\"] = relationship(back_populates=\"payments\")$/", "language": "Python", "typeref": "typename:Mapped[\"Order\"]", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "order_id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    order_id: Mapped[int] = mapped_column(ForeignKey(\"orders.id\", ondelete=\"CASCADE\"), nullable=/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "order_id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    order_id: Mapped[int] = mapped_column(ForeignKey(\"orders.id\", ondelete=\"CASCADE\"), nullable=/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "orders", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    orders: Mapped[list[\"Order\"]] = relationship(back_populates=\"restaurant\", cascade=\"all, dele/", "language": "Python", "typeref": "typename:Mapped[list[\"Order\"]]", "kind": "variable", "scope": "Restaurant", "scopeKind": "class"}, {"_type": "tag", "name": "payments", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    payments: Mapped[list[\"Payment\"]] = relationship(back_populates=\"order\", cascade=\"all, delet/", "language": "Python", "typeref": "typename:Mapped[list[\"Payment\"]]", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "price_cents", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    price_cents: Mapped[int] = mapped_column(Integer, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "MenuItem", "scopeKind": "class"}, {"_type": "tag", "name": "price_cents_each", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    price_cents_each: Mapped[int] = mapped_column(Integer, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "provider", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    provider: Mapped[str] = mapped_column(String(40), nullable=False, default=\"mock\")$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "quantity", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    quantity: Mapped[int] = mapped_column(Integer, nullable=False)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "OrderItem", "scopeKind": "class"}, {"_type": "tag", "name": "restaurant", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    restaurant: Mapped[\"Restaurant\"] = relationship(back_populates=\"menu_items\")$/", "language": "Python", "typeref": "typename:Mapped[\"Restaurant\"]", "kind": "variable", "scope": "MenuItem", "scopeKind": "class"}, {"_type": "tag", "name": "restaurant", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    restaurant: Mapped[\"Restaurant\"] = relationship(back_populates=\"orders\")$/", "language": "Python", "typeref": "typename:Mapped[\"Restaurant\"]", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "restaurant_id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    restaurant_id: Mapped[int] = mapped_column(ForeignKey(\"restaurants.id\", ondelete=\"CASCADE\"),/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "MenuItem", "scopeKind": "class"}, {"_type": "tag", "name": "restaurant_id", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    restaurant_id: Mapped[int] = mapped_column(ForeignKey(\"restaurants.id\", ondelete=\"CASCADE\"),/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    status: Mapped[str] = mapped_column(String(40), nullable=False, default=\"created\")$/", "language": "Python", "typeref": "typename:Mapped[str]", "kind": "variable", "scope": "Order", "scopeKind": "class"}, {"_type": "tag", "name": "total_cents", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/models/db_models.py", "pattern": "/^    total_cents: Mapped[int] = mapped_column(Integer, nullable=False, default=0)$/", "language": "Python", "typeref": "typename:Mapped[int]", "kind": "variable", "scope": "Order", "scopeKind": "class"}], "hash": "699fad16c449f85533cd472cb32b4dc0", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/api/models/db_models.py", "fields": [{"name": "__tablename__ = \"menu_items\"", "scope": "MenuItem", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"order_items\"", "scope": "OrderItem", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"orders\"", "scope": "Order", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"payments\"", "scope": "Payment", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"restaurants\"", "scope": "Restaurant", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] amount_cents", "scope": "Payment", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[datetime] created_at", "scope": "MenuItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str | None] description", "scope": "MenuItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] id", "scope": "MenuItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[bool] is_active", "scope": "Restaurant", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[bool] is_available", "scope": "MenuItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[list[\"OrderItem\"]] items", "scope": "Order", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] menu_item_id", "scope": "OrderItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[list[\"MenuItem\"]] menu_items", "scope": "Restaurant", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] name", "scope": "MenuItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[\"Order\"] order", "scope": "OrderItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] order_id", "scope": "OrderItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[list[\"Order\"]] orders", "scope": "Restaurant", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[list[\"Payment\"]] payments", "scope": "Order", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] price_cents", "scope": "MenuItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] price_cents_each", "scope": "OrderItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] provider", "scope": "Payment", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] quantity", "scope": "OrderItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[\"Restaurant\"] restaurant", "scope": "MenuItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] restaurant_id", "scope": "MenuItem", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[str] status", "scope": "Order", "scopeKind": "class", "description": "unavailable"}, {"name": "Mapped[int] total_cents", "scope": "Order", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"27": "d14c09d9101f338766e90860c922b16fd13c7164"}]}