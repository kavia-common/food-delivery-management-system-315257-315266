{"is_source_file": true, "format": "Python", "description": "This file defines API routes related to handling orders in a food delivery system using FastAPI. It includes endpoints for creating, listing, retrieving, and updating the delivery status of orders, utilizing SQLAlchemy for database interactions.", "external_files": ["src.api.core.db", "src.api.models.db_models", "src.api.models.schemas"], "external_methods": ["get_db", "select", "selectinload", "db.get", "db.add", "db.flush", "db.commit", "db.execute", "db.refresh"], "published": ["create_order", "list_orders", "get_order", "update_delivery_status"], "classes": [], "methods": [{"name": "OrderRead _order_to_read(order: db_models.Order)", "description": "Converts a database Order model instance into an API response OrderRead model.", "scope": "", "scopeKind": ""}, {"name": "OrderRead create_order(payload: OrderCreate, db: Session = Depends(get_db))", "description": "Creates a new order with items, calculates total, and saves it to the database.", "scope": "", "scopeKind": ""}, {"name": "list[OrderRead] list_orders( status: str | None = Query(default=None, description=\"Filter by order status.\"), limit: int = Query(default=50, ge=1, le=200, description=\"Max number of results.\"), offset: int = Query(default=0, ge=0, description=\"Offset for pagination.\"), db: Session = Depends(get_db), )", "description": "Lists orders, optionally filtered by status, with pagination.", "scope": "", "scopeKind": ""}, {"name": "OrderRead get_order(order_id: int, db: Session = Depends(get_db))", "description": "Retrieves a specific order by its ID.", "scope": "", "scopeKind": ""}, {"name": "OrderRead update_delivery_status(order_id: int, payload: DeliveryUpdate, db: Session = Depends(get_db))", "description": "Updates the delivery status of an existing order.", "scope": "", "scopeKind": ""}], "calls": ["db.get", "db.add", "db.flush", "db.commit", "db.execute", "db.refresh"], "search-terms": ["orders", "createOrder", "listOrders", "getOrder", "updateDeliveryStatus", "APIRouter", "OrderRead", "OrderCreate", "DeliveryUpdate", "selectinload"], "state": 2, "file_id": 13, "knowledge_revision": 32, "git_revision": "d14c09d9101f338766e90860c922b16fd13c7164", "ctags": [{"_type": "tag", "name": "_VALID_STATUSES", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/routers/orders.py", "pattern": "/^_VALID_STATUSES = {\"created\", \"paid\", \"preparing\", \"out_for_delivery\", \"delivered\", \"cancelled\"}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_order_to_read", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/routers/orders.py", "pattern": "/^def _order_to_read(order: db_models.Order) -> OrderRead:$/", "language": "Python", "typeref": "typename:OrderRead", "kind": "function", "signature": "(order: db_models.Order)"}, {"_type": "tag", "name": "create_order", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/routers/orders.py", "pattern": "/^def create_order(payload: OrderCreate, db: Session = Depends(get_db)) -> OrderRead:$/", "language": "Python", "typeref": "typename:OrderRead", "kind": "function", "signature": "(payload: OrderCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_order", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/routers/orders.py", "pattern": "/^def get_order(order_id: int, db: Session = Depends(get_db)) -> OrderRead:$/", "language": "Python", "typeref": "typename:OrderRead", "kind": "function", "signature": "(order_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_orders", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/routers/orders.py", "pattern": "/^def list_orders($/", "language": "Python", "typeref": "typename:list[OrderRead]", "kind": "function", "signature": "( status: str | None = Query(default=None, description=\"Filter by order status.\"), limit: int = Query(default=50, ge=1, le=200, description=\"Max number of results.\"), offset: int = Query(default=0, ge=0, description=\"Offset for pagination.\"), db: Session = Depends(get_db), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/routers/orders.py", "pattern": "/^router = APIRouter(prefix=\"\\/orders\", tags=[\"orders\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_delivery_status", "path": "/home/kavia/workspace/code-generation/food-delivery-management-system-315257-315266/backend_api/src/api/routers/orders.py", "pattern": "/^def update_delivery_status(order_id: int, payload: DeliveryUpdate, db: Session = Depends(get_db)/", "language": "Python", "typeref": "typename:OrderRead", "kind": "function", "signature": "(order_id: int, payload: DeliveryUpdate, db: Session = Depends(get_db))"}], "hash": "8beef6a233fa4598d14e53fa011a6058", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/src/api/routers/orders.py", "fields": [{"name": "_VALID_STATUSES = {\"created\", \"paid\", \"preparing\", \"out_for_delivery\", \"delivered\", \"cancelled\"}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "router = APIRouter(prefix=\"\\/orders\", tags=[\"orders\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"32": "d14c09d9101f338766e90860c922b16fd13c7164"}]}